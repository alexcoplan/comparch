rule cc
  command = gcc -g -c -o $out $in

rule ld
  command = gcc -o $out $in

rule as
  command = as -o $out $in

rule test
  command = $in && touch $out

build build/x86/test_a7.o : cc a7/test_a7.c

build build/x86/a7.o : as a7/x64_a7.s

build build/x86/test_a7 : ld build/x86/test_a7.o build/x86/a7.o

build build/x86/test/a7.stamp : test build/x86/test_a7
